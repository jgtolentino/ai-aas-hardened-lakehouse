# Edge Functions Environment - Staging

# Supabase Configuration
SUPABASE_URL=https://staging-project.supabase.co
SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}

# Database Connection
DATABASE_URL=postgresql://${DB_USER}:${DB_PASS}@db-staging.supabase.co:5432/postgres

# OpenAI Configuration
OPENAI_API_KEY=${OPENAI_API_KEY}

# Environment Settings
NODE_ENV=staging
LOG_LEVEL=info
ENABLE_CORS=true
ALLOWED_ORIGINS=https://scout-staging.example.com

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=5000

# Cache Settings
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_REDIS_URL=redis://redis-staging:6379/4

# Feature Flags
ENABLE_SYNTHETIC_DATA=false
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_PROFILING=false
ENABLE_BETA_FEATURES=true

# External Services
MAPBOX_TOKEN=${MAPBOX_TOKEN}
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_STAGING}
SENTRY_DSN=${SENTRY_DSN_STAGING}

# Security
API_KEY_ROTATION_DAYS=30
ENFORCE_HTTPS=true
CSP_DIRECTIVES="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net"

# Monitoring
DATADOG_API_KEY=${DATADOG_API_KEY}
DATADOG_ENV=staging
ENABLE_APM=true