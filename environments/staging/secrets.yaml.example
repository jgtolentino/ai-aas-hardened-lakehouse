# Staging Secrets Template
# Copy to secrets.yaml and fill in values
# NEVER commit secrets.yaml to version control

database:
  # Staging PostgreSQL
  host: db-staging.supabase.co
  port: 5432
  database: postgres
  username: postgres
  password: ${DB_PASSWORD}  # Vault reference
  schema: scout
  ssl:
    enabled: true
    mode: require

supabase:
  # Staging Supabase project
  project_ref: staging-project
  url: https://staging-project.supabase.co
  anon_key: ${SUPABASE_ANON_KEY}
  service_role_key: ${SUPABASE_SERVICE_ROLE_KEY}

superset:
  # Staging Superset
  base_url: https://superset-staging.example.com
  admin_username: admin
  admin_password: ${SUPERSET_ADMIN_PASSWORD}
  secret_key: ${SUPERSET_SECRET_KEY}
  
  # Database for Superset metadata
  metadata_db:
    host: superset-db-staging.example.com
    port: 5432
    database: superset
    username: superset
    password: ${SUPERSET_DB_PASSWORD}

external_services:
  # API Keys
  openai_api_key: ${OPENAI_API_KEY}
  mapbox_token: ${MAPBOX_TOKEN}
  
  # Monitoring
  sentry_dsn: ${SENTRY_DSN_STAGING}
  datadog_api_key: ${DATADOG_API_KEY}
  
  # Notifications
  slack_webhook_url: ${SLACK_WEBHOOK_STAGING}
  pagerduty_integration_key: ${PAGERDUTY_KEY_STAGING}

auth:
  # JWT settings
  jwt_secret: ${JWT_SECRET_STAGING}
  jwt_expiry: 3600  # 1 hour
  jwt_refresh_expiry: 604800  # 7 days
  
  # OAuth (if using)
  oauth_client_id: ${OAUTH_CLIENT_ID}
  oauth_client_secret: ${OAUTH_CLIENT_SECRET}

smtp:
  # Email configuration
  host: smtp-staging.example.com
  port: 587
  username: ${SMTP_USER}
  password: ${SMTP_PASSWORD}
  from_address: alerts-staging@example.com

# Staging-specific settings
feature_flags:
  enable_beta_features: true
  enable_debug_endpoints: true
  enable_usage_analytics: true